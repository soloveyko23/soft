"use strict";const removeAlertBlocks=()=>{document.querySelectorAll(".alert-block .alert-block__row").forEach((e=>{e.querySelector("[data-close]").addEventListener("click",(()=>{e.style.opacity="0",e.style.transform="translateX(-100%)",setTimeout((()=>{e.remove()}),300)}))}))},moveDividerForMenu=()=>{document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".menu-navbar ul.list > li"),t=document.querySelector(".menu-navbar .divider"),n=document.querySelector(".menu-navbar-wrapper").getBoundingClientRect(),r=parseFloat(window.getComputedStyle(document.querySelector(".menu-navbar-wrapper")).paddingLeft);function i(e){const i=e.getBoundingClientRect(),o=i.left-n.left-r+i.width/2-t.offsetWidth/2;t.style.transform=`translateX(${o}px)`,t.style.width=`${i.width}px`}e.forEach((function(t){t.addEventListener("click",(function(){e.forEach((function(e){e.classList.remove("active")})),t.classList.add("active"),i(t)})),t.addEventListener("mouseenter",(function(){i(t)}))})),document.addEventListener("click",(function(t){document.querySelector(".menu-navbar-wrapper").contains(t.target)||e.forEach((function(e){e.classList.remove("active")}))}))}))},testCompass=()=>{const e=document.getElementById("compassInput"),t=document.querySelector(".compass-limb"),n=document.getElementById("directionLabel");e.addEventListener("input",(function(){const e=this.value;let r;document.querySelector(".compass p").textContent=`${e}Â°`,t.style.transform=`rotate(${e}deg)`,r=e>=0&&e<45?"N":e>=45&&e<90?"NE":e>=90&&e<135?"E":e>=135&&e<180?"SE":e>=180&&e<225?"S":e>=225&&e<270?"SW":e>=270&&e<315?"W":e>=315&&e<360?"NW":"N",n.textContent=r}))},initializeSlider=()=>{const e=document.getElementById("speed-range"),t=document.querySelector(".speedmeter .arrow-speed"),n=document.getElementById("speed"),r=document.querySelector(".speedmeter-range-icon");let i=!1;noUiSlider.create(e,{start:[0],direction:"rtl",orientation:"vertical",connect:!0,step:10,pips:{mode:"steps",values:[0,150],density:1},range:{min:0,max:150}}),e.noUiSlider.on("update",(function(e,r){const i=parseInt(e[r]);document.querySelectorAll(".speedmeter .noUi-value").forEach((function(e){parseInt(e.getAttribute("data-value"))<=i?e.classList.add("active"):e.classList.remove("active")}));const o=i/150*270+225;t.style.transform="rotate("+o+"deg)";const a=document.querySelector(".speedmeter .noUi-handle").getAttribute("aria-valuenow");n.textContent=`${parseInt(a)} m/s`})),r.addEventListener("click",(function(){if(!i){i=!0;const t=document.querySelector(".speedmeter .noUi-handle"),n=parseInt(t.getAttribute("aria-valuenow"))+10;e.noUiSlider.set(n),i=!1}}))};let slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)},slideDown=(e,t=500)=>{e.style.removeProperty("display");let n=window.getComputedStyle(e).display;"none"===n&&(n="block"),e.style.display=n;let r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)},slideToggle=(e,t=500)=>"none"===window.getComputedStyle(e).display?slideDown(e,t):slideUp(e,t),speedAnimation=400,targetId=document.getElementById("target");const widgets=document.querySelectorAll(".widget");widgets.forEach((function(e){const t=e.querySelector(".widget-close");t&&t.addEventListener("click",(function(t){e.classList.toggle("hide");const n=e.querySelector(".widget-body");n&&slideToggle(n)}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("view-image").getAttribute("src"),t=document.getElementById("map"),n=document.getElementById("background-image");"img/widget-pic-real.jpg"===e?(t.classList.remove("background-image"),t.classList.add("hidden"),n.classList.remove("hidden")):(t.classList.add("background-image"),t.classList.remove("hidden"),n.classList.add("hidden"))})),document.querySelector(".switch-view").addEventListener("click",(function(e){e.preventDefault();var t=document.getElementById("view-image"),n="img/widget-pic-real.jpg"===t.getAttribute("src")?"img/widget-pic-other.jpg":"img/widget-pic-real.jpg";t.setAttribute("src",n);var r=document.getElementById("map"),i=document.getElementById("background-image");"img/widget-pic-real.jpg"===n?(r.classList.remove("background-image"),r.classList.add("hidden"),i.classList.remove("hidden")):(r.classList.add("background-image"),r.classList.remove("hidden"),i.classList.add("hidden"))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".hide-widgets"),t=document.querySelector(".view-screen__footer");e.addEventListener("click",(()=>{e.classList.toggle("active"),t.classList.toggle("hidden")}))}));let timerInterval,timerDisplay=document.getElementById("timer"),startBtn=document.querySelector(".start-btn"),pauseBtn=document.querySelector(".pause-btn"),stopBtn=document.querySelector(".stop-btn"),timeInSeconds=0;function startTimer(){timerInterval=setInterval((function(){timeInSeconds++,updateTimerDisplay()}),1e3),startBtn.classList.add("hidden"),pauseBtn.classList.remove("hidden")}function pauseTimer(){clearInterval(timerInterval),startBtn.classList.remove("hidden"),pauseBtn.classList.add("hidden")}function stopTimer(){clearInterval(timerInterval),timeInSeconds=0,updateTimerDisplay(),startBtn.classList.remove("hidden"),pauseBtn.classList.add("hidden")}function updateTimerDisplay(){const e=Math.floor(timeInSeconds/60),t=timeInSeconds%60;timerDisplay.textContent=`${String(e).padStart(2,"0")}:${String(t).padStart(2,"0")}`}const inputRange=document.querySelector(".altitude-input"),altitudeRangeSpan=document.querySelector(".altitude-range span"),altitudeValues=document.querySelectorAll(".altitude-value"),altitudeMeters=document.querySelectorAll(".altitude-meters");let activeMarker=document.createElement("div");function updateAltitudeRange(){const e=parseInt(inputRange.value)/350*100;altitudeRangeSpan.style.height=`${e}%`}function updateAltitudeValues(){const e=parseInt(inputRange.value);altitudeValues.forEach((t=>{parseInt(t.dataset.value)<=e?t.classList.add("active"):t.classList.remove("active")})),altitudeMeters.forEach((t=>{t.textContent=`${e}M`}))}activeMarker.classList.add("active-marker"),altitudeRangeSpan.appendChild(activeMarker),inputRange.addEventListener("input",(()=>{updateAltitudeRange(),updateAltitudeValues()})),updateAltitudeRange(),updateAltitudeValues(),startBtn.addEventListener("click",startTimer),pauseBtn.addEventListener("click",pauseTimer),stopBtn.addEventListener("click",stopTimer),initializeSlider(),document.querySelectorAll(".alert-block .alert-block__row").forEach((e=>{e.querySelector("[data-close]").addEventListener("click",(()=>{e.style.opacity="0",e.style.transform="translateX(-100%)",setTimeout((()=>{e.remove()}),300)}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".menu-navbar ul.list > li"),t=document.querySelector(".menu-navbar .divider"),n=document.querySelector(".menu-navbar-wrapper").getBoundingClientRect(),r=parseFloat(window.getComputedStyle(document.querySelector(".menu-navbar-wrapper")).paddingLeft);function i(e){const i=e.getBoundingClientRect(),o=i.left-n.left-r+i.width/2-t.offsetWidth/2;t.style.transform=`translateX(${o}px)`,t.style.width=`${i.width}px`}e.forEach((function(t){t.addEventListener("click",(function(){e.forEach((function(e){e.classList.remove("active")})),t.classList.add("active"),i(t)})),t.addEventListener("mouseenter",(function(){i(t)}))})),document.addEventListener("click",(function(t){document.querySelector(".menu-navbar-wrapper").contains(t.target)||e.forEach((function(e){e.classList.remove("active")}))}))})),testCompass();